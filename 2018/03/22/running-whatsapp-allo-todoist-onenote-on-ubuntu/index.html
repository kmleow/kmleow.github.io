<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Running WhatsApp, Allo, Todoist, and OneNote on Ubuntu</title><meta name="msvalidate.01" content="009F12474AB330989749B979B5868A7F"/><meta name="google-site-verification" content="in8GfCIv-CYlwD5AxO0jVMlrUy1s42a_-cxlOWdv4U0"/><meta name="yandex-verification" content="c29e9c1084b24e1d"/><meta name="description" content="Running WhatsApp, Allo, Todoist, and OneNote on Ubuntu desktop with the help of nativefier."/><meta name="author" content="Leow Kah Man"/><link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192"/><link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"/><link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"/><link rel="canonical" href="https://www.leowkahman.com/2018/03/22/running-whatsapp-allo-todoist-onenote-on-ubuntu/"><link href="" rel="alternate" type="application/rss+xml" title="Leow Kah Man - Tech Blog"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" integrity="sha256-Zd1icfZ72UBmsId/mUcagrmN7IN5Qkrvh75ICHIQVTk=" crossorigin="anonymous"/><link rel="stylesheet" href="/css/custom.css?v=1.0.0"/><style id="antiClickjack">body{display:none!important}</style><script>if(self===top){var antiClickjack=document.getElementById("antiClickjack");antiClickjack.parentNode.removeChild(antiClickjack)}else top.location=self.location</script><script>function redirectToCorrectDomainIfRequired(){for(var o=["www.leowkahman.com","localhost"],e=0;e<o.length;e++)if(window.location.hostname==o[e])return;window.location="https://www.leowkahman.com"+window.location.pathname}redirectToCorrectDomainIfRequired()</script></head><body><nav class="navbar navbar-default navbar-static-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">Leow Kah Man - Tech Blog</a></div><div id="navbar" class="navbar-collapse collapse"><ul class="nav navbar-nav"></ul><ul class="nav navbar-nav navbar-right"><li><a href="/about/">About</a></li><li><a href="/contact/">Contact</a></li></ul></div></div></nav><div class="container"><div class="row"><div class="col-sm-12"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8585963436723502" data-ad-slot="7600784826" data-ad-format="auto"></ins></div></div><div class="row"><div class="col-sm-8 blog-main"><div class="row"><div class="blog-main blog-post"><h1 class="blog-post-title">Running WhatsApp, Allo, Todoist, and OneNote on Ubuntu</h1><p class="blog-post-meta"><i class="fa fa-calendar"></i> Published: 22 March 2018 &nbsp;|&nbsp; <i class="fa fa-folder"></i> <a href="https://www.leowkahman.com/categories/software">Software</a></p><ul class="list-inline share" style="margin-top:15px;margin-left:0"><li class="facebook-share"><a target="_blank" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.leowkahman.com%2f2018%2f03%2f22%2frunning-whatsapp-allo-todoist-onenote-on-ubuntu%2f"><i class="fa fa-facebook fa-lg"></i> Facebook</a></li><li class="googleplus-share"><a target="_blank" href="https://plus.google.com/share?url=https%3a%2f%2fwww.leowkahman.com%2f2018%2f03%2f22%2frunning-whatsapp-allo-todoist-onenote-on-ubuntu%2f"><i class="fa fa-google-plus fa-lg"></i> Google+</a></li><li class="twitter-share"><a target="_blank" href="https://twitter.com/share?url=https%3a%2f%2fwww.leowkahman.com%2f2018%2f03%2f22%2frunning-whatsapp-allo-todoist-onenote-on-ubuntu%2f&amp;text=Running%20WhatsApp%2c%20Allo%2c%20Todoist%2c%20and%20OneNote%20on%20Ubuntu"><i class="fa fa-twitter fa-lg"></i> Twitter</a></li><li class="reddit-share"><a target="_blank" href="http://reddit.com/submit?url=https%3a%2f%2fwww.leowkahman.com%2f2018%2f03%2f22%2frunning-whatsapp-allo-todoist-onenote-on-ubuntu%2f&amp;title=Running%20WhatsApp%2c%20Allo%2c%20Todoist%2c%20and%20OneNote%20on%20Ubuntu"><i class="fa fa-reddit fa-lg"></i> Reddit</a></li><li class="linkedin-share"><a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.leowkahman.com%2f2018%2f03%2f22%2frunning-whatsapp-allo-todoist-onenote-on-ubuntu%2f"><i class="fa fa-linkedin fa-lg"></i> LinkedIn</a></li></ul><p><img src="/images/2018/03/nativefier-desktop-launchers.png" alt="nativefier - desktop launchers"/></p><p>In the absence of native desktop apps for Linux from WhatsApp, Allo, Todoist, OneNote and many others, the next best alternative is to simply run the web app via web browser. To make the experience of launching it closer to a native app, read on.</p><p></p><h2 id="motivation">Motivation</h2><p>Having switched to Ubuntu, I often feel that software companies do not seem to give enough love to Linux users; needing to use web browser to run their web apps whereas Windows and Mac get native options.</p><p>Previously, I setup Chrome to run upon login and set its startup pages to the said apps. This works but I dislike this approach for a few reasons:</p><ol><li>Upon starting Chrome, I get a set of tabs already loaded whereas I prefer them to show up as a standalone window.</li><li>One or more Chrome extensions that I use have interfered with the web apps causing the layout to appear incorrectly. I had to exclude these web app URLs explicitly. Another use case was when I needed to switch proxy settings via an extension but I did not want the proxy settings to affect these web apps. I had to explicitly exclude these URLs too. Ideally, I do not want extensions affecting any of these web apps.</li><li>I usually do not need all of them to be opened at the same time so closing the unneeded tabs can help to reduce memory usage but when I needed to have them visible again, I had to relaunch Chrome. I prefer to launch them independently.</li></ol><h2 id="solution-overview">Solution overview</h2><p>The solution is to wrap these web apps with <a href="https://electronjs.org/">Electron</a> and create a desktop launcher with the correct icon for the app.</p><h2 id="pre-requisites">Pre-requisites</h2><p>Firstly, <a href="https://nodejs.org/en/">NodeJS</a> and <a href="https://www.npmjs.com/">NPM</a> are required. I tested with NodeJS 8.10.0.</p><p>Then install <a href="https://www.npmjs.com/package/nativefier">nativefier via NPM</a>, a tool for creating a native wrapper for any web page:</p><pre><code class="language-bash">npm install -g nativefier
</code></pre><p>Do not run <code>npm install -g</code> with <code>sudo</code>. If you encounter permission issues, follow NPM&rsquo;s getting started guide on &ldquo;<a href="https://docs.npmjs.com/getting-started/fixing-npm-permissions">How to prevent permissions errors</a>&rdquo;. The guide will also explain how to add these globally installed packages into <code>$PATH</code> environment variable.</p><h2 id="downloading-app-icons">Downloading app icons</h2><p>Desktop launcher needs to have an icon. Icons must be in PNG format. It also needs to have enough pixels, 48x48. Otherwise, the icon will look pixelated. Although any arbitrary icon can be used, using the proper icon would make the app identifiable.</p><p>Icons for popular web apps can be found on <a href="https://github.com/jiahaog/nativefier-icons/tree/gh-pages/files">nativefier-icons</a>. Alternatively, view the source the web app, then look for <a href="https://en.wikipedia.org/wiki/Favicon">favicon</a> and download it. If it is not in PNG format, it will have to be converted to PNG using an image editor.</p><h2 id="nativefy-the-web-app">Nativefy the web app</h2><p>Below are examples of how to use nativefier. Run them within your home directory where you have permissions to write without <code>sudo</code>.</p><p>For Allo:</p><pre><code class="language-bash">nativefier --name &quot;Allo&quot; &quot;https://allo.google.com/web&quot; --disable-dev-tools --single-instance --icon allo.png
</code></pre><p>For OneNote:</p><pre><code class="language-bash">nativefier --name &quot;OneNote&quot; &quot;https://www.onenote.com/&quot; --disable-dev-tools --single-instance --icon onenote.png
</code></pre><p>For Todoist:</p><pre><code class="language-bash">nativefier --name &quot;Todoist&quot; &quot;https://todoist.com/&quot; --disable-dev-tools --single-instance --icon todoist.png
</code></pre><p>WhatsApp:</p><pre><code class="language-bash">nativefier --name &quot;WhatsApp&quot; &quot;https://web.whatsapp.com/&quot; --disable-dev-tools --single-instance --icon whatsapp.png
</code></pre><p>I found no use for allowing multi-instances of each app so I specified the <code>--single-instance</code> parameter. There is no need for Chrome developer tools, hence <code>--disable-dev-tools</code>. Do not forget to specify the correct file name for the <code>--icon</code>. More details can be found on <a href="https://github.com/jiahaog/nativefier/blob/master/docs/api.md">nativefier API documentation</a>.</p><p>Upon running the above, if successful, a new folder will appear named as <code>&lt;name&gt;-linux-x64</code>. Note that &ldquo;WhatsApp&rdquo; will appear as <code>whats-app-linux-x64</code> as it will convert Pascal case into lowercase with a dash in between.</p><p>This folder should then be moved to <code>/opt</code> to allow other users to use these apps:</p><pre><code class="language-bash">sudo mkdir -p /opt
sudo mv whats-app-linux-x64 /opt/whatsapp
</code></pre><h2 id="first-run-of-the-app">First run of the app</h2><p>Run the app, taking WhatsApp for example:</p><pre><code class="language-bash">/opt/whatsapp/whats-app
</code></pre><p>On first run, it will create a folder to store configuration files on <code>&quot;$HOME/.config/applications/whats-app-nativefier-xxxxxx&quot;</code> where <code>xxxxxx</code> is a 6-character hexadecimal.</p><p>This keeps your login session state so that you do not need to relogin on subsequent runs.</p><h2 id="adding-a-desktop-launcher-icon">Adding a desktop launcher icon</h2><p>Launchers for all users is located at <code>/usr/share/applications</code>.<br/>Launchers for current user is located at <code>&quot;$HOME/.local/share/applications&quot;</code>.<br/>Launcher file names are named with <code>.desktop</code> npmjsextension.</p><p>Example of how to add a WhatsApp launcher for all users using <code>nano</code> editor:</p><pre><code class="language-bash">sudo nano /usr/share/applications/whatsapp.desktop
</code></pre><p>Then, paste the following and save:</p><pre><code class="language-ini">[Desktop Entry]
Encoding=UTF-8
Version=1.0
Type=Application
Name=WhatsApp
Icon=/opt/whatsapp/resources/app/icon.png
Path=/opt/whatsapp
Exec=/opt/whatsapp/whats-app
StartupNotify=false
StartupWMClass=whats-app-nativefier-xxxxxx
OnlyShowIn=GNOME;
</code></pre><p>Remember to substitute <code>xxxxxx</code> in <code>StartupWMClass</code> setting with the correct 6-character hexadecimal. This is so that the app will not show up as a separate icon on the launcher bar when running it.</p><p>The app can now be added into favourites and ready to be used.</p><h2 id="faq">FAQ</h2><h3 id="why-is-the-old-icon-still-being-shown-despite-having-changed-it">Why is the old icon still being shown despite having changed it</h3><p>Upon changing an icon, to have this reflected, the icon cache needs to be updated:</p><pre><code class="language-bash">sudo update-icon-caches /usr/share/icons/*
</code></pre><h3 id="do-i-need-to-update-the-app">Do I need to update the app</h3><p>Short answer, it depends.</p><p>Given that the app is a Chromium web browser pointing to a URL, there is no need to update the app unless the URL has changed. Nevertheless, it is a good practice to keep your software up-to-date as new releases may include security related fixes.</p><ul class="list-inline tags" style="margin-left:0"><li class="btn btn-primary"><a href="https://www.leowkahman.com/tags/linux">Linux</a></li><li class="btn btn-primary"><a href="https://www.leowkahman.com/tags/ubuntu">Ubuntu</a></li></ul></div></div><div class="blog-post"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8585963436723502" data-ad-slot="8937917223" data-ad-format="auto"></ins></div><div class="row"><div id="disqus_thread"></div><script>!function(){if("localhost"!=window.location.hostname){var e=document.createElement("script");e.type="text/javascript",e.async=!0;e.src="https://leowkahman.disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}}()</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div><div class="col-sm-4 blog-sidebar"><div class="sidebar-module"><script>!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cse.google.com/cse.js?cx=partner-pub-8585963436723502:5716828028";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><gcse:search></gcse:search></div><div class="sidebar-module"><h4>Recent Posts</h4><ul class="list-unstyled posts-recent"><li><a href="https://www.leowkahman.com/2018/05/29/workaround-to-wifi-issues-on-openwrt-lede/">Workaround to Wi-Fi issues on OpenWRT LEDE</a></li><li><a href="https://www.leowkahman.com/2018/04/23/writing-readable-linq-code-in-csharp/">Writing readable LINQ code in C#</a></li><li><a href="https://www.leowkahman.com/2018/04/13/solution-to-images-not-showing-on-inoreader/">Solution to images not showing on InoReader</a></li><li><a href="https://www.leowkahman.com/2018/04/08/prevent-overheating-by-disabling-turbo-boost/">Prevent overheating by disabling turbo boost</a></li><li><a href="https://www.leowkahman.com/2018/03/31/how-to-fix-choppy-youtube-videos-on-old-laptop/">How to fix choppy YouTube videos on Firefox and Chrome on an old laptop</a></li></ul></div><div class="sidebar-module"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8585963436723502" data-ad-slot="6069940020" data-ad-format="auto"></ins></div><div class="sidebar-module"><h4>Categories</h4><ul class="list-unstyled posts-recent"><li><a href="https://www.leowkahman.com/categories/software/">software</a></li><li><a href="https://www.leowkahman.com/categories/web/">web</a></li><li><a href="https://www.leowkahman.com/categories/network/">network</a></li><li><a href="https://www.leowkahman.com/categories/hardware/">hardware</a></li><li><a href="https://www.leowkahman.com/categories/cloud/">cloud</a></li></ul></div></div></div></div><footer class="blog-footer"><div class="container"><div class="row"><div class="col-sm-8 col-xs-6"><ul class="list-inline links"><li><a href="/privacy-policy/">Privacy Policy</a></li><li><a href="https://status.leowkahman.com/">Uptime</a></li></ul></div><div class="col-sm-4 col-xs-6"><ul class="list-inline"><li><a target="_blank" href="/index.xml"><i class="fa fa-rss fa-lg"></i></a></li><li><a target="_blank" href="https://stackexchange.com/users/6729082/leow-kah-man"><i class="fa fa-stack-exchange fa-lg"></i></a></li><li><a target="_blank" href="https://github.com/kmleow"><i class="fa fa-github fa-lg"></i></a></li><li><a target="_blank" href="https://twitter.com/kmleow"><i class="fa fa-twitter fa-lg"></i></a></li><li><a target="_blank" href="https://www.linkedin.com/in/kmleow"><i class="fa fa-linkedin fa-lg"></i></a></li><li><a target="_blank" href="https://www.facebook.com/LeowKahMan"><i class="fa fa-facebook fa-lg"></i></a></li><li><a target="_blank" href="https://www.paypal.me/leowkahman/5usd"><i class="fa fa-paypal fa-lg"></i></a></li></ul></div></div></div><div class="container"><div class="col-sm-12 row"><p>Except as otherwise noted, the content of this page is licensed under the <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>,<br/>code samples are licensed under the <a href="https://tldrlegal.com/license/mit-license">MIT License</a>. Third-party product names and logos may be the trademarks of their respective owners.</p></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha256-Daf8GuI2eLKHJlOWLRR/zRy9Clqcj4TUSumbxYH9kGI=" crossorigin="anonymous"></script><script src="/js/custom.js?v=1.0.1"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>[].forEach.call(document.querySelectorAll(".adsbygoogle"),function(){(adsbygoogle=window.adsbygoogle||[]).push({})})</script><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-61838818-1","auto"),ga("send","pageview"),ga("set","forceSSL",!0)</script></body></html>