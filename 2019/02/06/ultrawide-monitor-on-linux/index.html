<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Ultrawide monitor on Linux</title><meta name="msvalidate.01" content="009F12474AB330989749B979B5868A7F"/><meta name="google-site-verification" content="in8GfCIv-CYlwD5AxO0jVMlrUy1s42a_-cxlOWdv4U0"/><meta name="yandex-verification" content="c29e9c1084b24e1d"/><meta name="description" content="Solution to Out of Range problem when using LG Ultrawide monitor on Linux."/><meta name="author" content="Leow Kah Man"/><link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192"/><link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"/><link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"/><link rel="canonical" href="https://www.leowkahman.com/2019/02/06/ultrawide-monitor-on-linux/"><link href="" rel="alternate" type="application/rss+xml" title="Leow Kah Man - Tech Blog"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/vs.min.css" integrity="sha256-iGs2TpBtdfGr1FIgzGyO4CKAD1+2QaDswtMmJwDtHAs=" crossorigin="anonymous"/><link rel="stylesheet" href="/css/custom.css?v=1.0.0"/><style id="antiClickjack">body{display:none!important}</style><script>if(self===top){var antiClickjack=document.getElementById("antiClickjack");antiClickjack.parentNode.removeChild(antiClickjack)}else top.location=self.location</script><script>function redirectToCorrectDomainIfRequired(){for(var o=["www.leowkahman.com","localhost"],e=0;e<o.length;e++)if(window.location.hostname==o[e])return;window.location="https://www.leowkahman.com"+window.location.pathname}redirectToCorrectDomainIfRequired()</script></head><body><nav class="navbar navbar-default navbar-static-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">Leow Kah Man - Tech Blog</a></div><div id="navbar" class="navbar-collapse collapse"><ul class="nav navbar-nav"></ul><ul class="nav navbar-nav navbar-right"><li><a href="/about/">About</a></li><li><a href="/contact/">Contact</a></li></ul></div></div></nav><div class="container"><div class="row"><div class="col-sm-8 blog-main"><div class="row"><div class="blog-main blog-post"><h1 class="blog-post-title">Ultrawide monitor on Linux</h1><p class="blog-post-meta"><i class="fa fa-calendar"></i> Published: 6 February 2019 &nbsp;|&nbsp; <i class="fa fa-calendar-check-o"></i> Last updated: 17 February 2019 &nbsp;|&nbsp; <i class="fa fa-folder"></i> <a href="https://www.leowkahman.com/categories/software">Software</a></p><ul class="list-inline share" style="margin-top:15px;margin-left:0"><li class="facebook-share"><a target="_blank" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.leowkahman.com%2f2019%2f02%2f06%2fultrawide-monitor-on-linux%2f"><i class="fa fa-facebook fa-lg"></i> Facebook</a></li><li class="twitter-share"><a target="_blank" href="https://twitter.com/share?url=https%3a%2f%2fwww.leowkahman.com%2f2019%2f02%2f06%2fultrawide-monitor-on-linux%2f&amp;text=Ultrawide%20monitor%20on%20Linux"><i class="fa fa-twitter fa-lg"></i> Twitter</a></li><li class="reddit-share"><a target="_blank" href="http://reddit.com/submit?url=https%3a%2f%2fwww.leowkahman.com%2f2019%2f02%2f06%2fultrawide-monitor-on-linux%2f&amp;title=Ultrawide%20monitor%20on%20Linux"><i class="fa fa-reddit fa-lg"></i> Reddit</a></li><li class="linkedin-share"><a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.leowkahman.com%2f2019%2f02%2f06%2fultrawide-monitor-on-linux%2f"><i class="fa fa-linkedin fa-lg"></i> LinkedIn</a></li></ul><p>After some fiddling around, I managed to get 2560x1080 output on my Linux laptop hooked to a LG 29WK600 21:9 UltraWide Monitor.</p><h2 id="motivation">Motivation</h2><p>I carefully unboxed my new <a href="https://www.lg.com/monitors/lg-29WK600-W">LG 29WK600</a>, connected the HDMI cable to the monitor but discovered that the output was limited to 1920x1080. Black bars padded left and right of the screen with my display being no more than a regular 23&rdquo; monitor. This was on my Dell Studio XPS 1645 with <a href="http://www.gpuzoo.com/GPU-ATI/Mobility_Radeon_HD_5730_DDR3_GDDR3.html">Mobility Radeon 5730</a> which is old but capable of outputting more pixels than that.</p><h2 id="diagnosis-and-solution">Diagnosis and solution</h2><h3 id="hdmi-cable-was-not-faulty">HDMI cable was not faulty</h3><p>The cable was not faulty because I managed to get the ultrawide to display 2560x1080 on another laptop with Intel HD Graphics on Windows. According to Wikipedia, <a href="https://en.wikipedia.org/wiki/HDMI#Version_comparison">HDMI version 2.0</a> is required to support 21:9 aspect ratio.</p><h3 id="gave-displayport-a-try">Gave DisplayPort a try</h3><p>Considering my laptop has DisplayPort output, I decided to give it a try. 21:9 ratio appeared! I was ecstatic but that feeling faded seconds later when the display showed &ldquo;Out of Range&rdquo;. The screen seems to output just fine; it was sharp and flicker free. I thought perhaps it was just a frequency issue so I tried 75, 60 and then 50. At 75, display appeared but was showing &ldquo;Out of Range&rdquo;. At 60 and 50, the display went to sleep.</p><h3 id="contacted-lg">Contacted LG</h3><p>I contacted LG Malaysia support. They came back telling me to ensure FreeSync option was disabled but that was the default which I did not toggle on.</p><h3 id="searched-for-a-solution">Searched for a solution</h3><p>I stumbled upon a post on Ask Ubuntu, <a href="https://askubuntu.com/questions/377937/how-to-set-a-custom-resolution">How to set a custom resolution</a>. Now that I know the commands required to run, I needed to identify the proper frequency.</p><h3 id="determining-the-correct-frequency">Determining the correct frequency</h3><p>According to LG&rsquo;s website, the supported H-Frequency range is between 30 and 90KHz and V-Frequency is between 56 and 75Hz. The number of interest to us is the V-Frequency. I tried several numbers in between and including 56 and 75 until I stumbled upon a frequency that works, 68. Here is how I found out.</p><p>Firstly, use the <code>cvt</code> command to generate a <code>Modeline</code>:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cvt <span style="color:#ae81ff">2560</span> <span style="color:#ae81ff">1080</span> <span style="color:#ae81ff">68</span>
</code></pre></div><p>Then the following output will appear:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 2560x1080 67.91 Hz (CVT) hsync: 76.46 kHz; pclk: 264.25 MHz</span>
Modeline <span style="color:#e6db74">&#34;2560x1080_68.00&#34;</span>  264.25  <span style="color:#ae81ff">2560</span> <span style="color:#ae81ff">2736</span> <span style="color:#ae81ff">3008</span> <span style="color:#ae81ff">3456</span>  <span style="color:#ae81ff">1080</span> <span style="color:#ae81ff">1083</span> <span style="color:#ae81ff">1093</span> <span style="color:#ae81ff">1126</span> -hsync +vsync
</code></pre></div><p>Next, we need to feed this information into <code>xrandr</code>:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">xrandr --newmode <span style="color:#e6db74">&#34;2560x1080_68.00&#34;</span>  264.25  <span style="color:#ae81ff">2560</span> <span style="color:#ae81ff">2736</span> <span style="color:#ae81ff">3008</span> <span style="color:#ae81ff">3456</span>  <span style="color:#ae81ff">1080</span> <span style="color:#ae81ff">1083</span> <span style="color:#ae81ff">1093</span> <span style="color:#ae81ff">1126</span> -hsync +vsync
</code></pre></div><p>Then make this option available to the list of selectable options for DisplayPort:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">xrandr --addmode DisplayPort-0 2560x1080_68.00
</code></pre></div><p>To see a list of selectable options, just type <code>xrandr</code> without parameters:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">Screen 0: minimum 320 x 200, current 2560 x 1080, maximum 8192 x 8192
LVDS connected (normal left inverted right x axis y axis)
   1920x1080     59.93 +
   1680x1050     60.00  
   1400x1050     60.00  
   1280x1024     59.95  
   1440x900      59.99  
   1280x960      59.99  
   1280x854      59.95  
   1280x800      59.96  
   1280x720      59.97  
   1152x768      59.95  
   1024x768      59.95  
   800x600       59.96  
   848x480       59.94  
   720x480       59.94  
   640x480       59.94  
DisplayPort-0 connected primary 2560x1080+0+0 (normal left inverted right x axis y axis) 798mm x 334mm
   2560x1080     59.98 +  74.99    50.00  
   1920x1080     74.98    60.00    50.00    59.94  
   1680x1050     59.95  
   1600x900      60.00  
   1280x1024     75.02    60.02  
   1280x800      59.81  
   1152x864      75.00    59.97  
   1280x720      60.00    50.00    59.94  
   1024x768      75.03    60.00  
   832x624       74.55  
   800x600       75.00    60.32  
   720x576       50.00  
   720x480       60.00    59.94  
   640x480       75.00    60.00    59.94  
   2560x1080_68.00  67.91* 
HDMI-0 disconnected (normal left inverted right x axis y axis)
VGA-0 disconnected (normal left inverted right x axis y axis)
</code></pre></div><p>The <code>LVDS</code> is my laptop&rsquo;s display which I deliberately turned off and the DisplayPort-0 is my ultrawide. Noticed that <code>2560x1080_68.00</code> option is now available at the tail end?</p><p>Before we select the new option that we just added, it is good to execute the command that sets the current resolution into the terminal. This should be the resolution that your display will show up albeit with &ldquo;Out of Range&rdquo; message. Do note that from the <code>xrandr</code> output above, the preferred rate for my display&rsquo;s 2560x1080 resolution is 59.98Hz. At that rate, nothing will show up. Neither will 50. 74.99 will get the screen to appear but as mentioned, with the error message. The command to select that output rate is:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">xrandr --output DisplayPort-0 --mode 2560x1080 --rate 74.99
</code></pre></div><p>The reason for executing that is to allow reverting back to that rate in case the rate that we are trying fails. In case you do not already know, pressing the up arrow key will bring back the last executed command and pressing enter will execute it. This is simple enough to be performed without a working display.</p><p>To try the new rate, in my case 68:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">xrandr --output DisplayPort-0 --mode 2560x1080_68.00
</code></pre></div><p>If the display fails to show up, press the &lsquo;up arrow key&rsquo; <strong>twice</strong> then enter to revert back to the previous state. Twice because the once would repeat the same command and another &lsquo;up arrow key&rsquo; press to repeat the command before that. Hope I explained this well enough. In case you struggle to get the display to reappear, unplugging the DisplayPort should reactivate the laptop&rsquo;s LCD. Otherwise, reboot the machine. The <code>xrandr</code> commands entered above do not persist past reboot.</p><h3 id="oddity">Oddity</h3><p>Strangely, I could not get 1920x1080 resolution to work on my ultrawide. Nevertheless, if 2560x1080 works, there is no reason to bother with 1920.</p><h3 id="persisting-and-restoring-the-correct-settings-on-startup">Persisting and restoring the correct settings on startup</h3><p>Once the correct rate has been identified, the next step is to make this customisation permanent.</p><p>Initially, I attempted to setup the above commands to run on startup via <a href="https://www.quora.com/What-is-profile-file-in-Linux">profile</a>. The problem I faced was only the laptop screen was active up to and including the login screen. This makes sense given that my <code>~/.profile</code> is located in my home directory for which I have encryption enabled. The directory&rsquo;s contents will only be made available after successful login. I tried to put the commands into <code>/etc/profile.d/</code> but the result was the same.</p><p>Then I came across <a href="https://askubuntu.com/questions/63681/how-can-i-make-xrandr-customization-permanent">How can I make xrandr customization permanent?</a>. I created a config file at <code>/usr/share/X11/xorg.conf.d/10-ultrawide.conf</code>. Please note that I have only tested this on Linux Mint 19.1. The folder location may vary depending on your distribution. The file&rsquo;s content:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">Section &#34;Monitor&#34;
  Identifier &#34;DisplayPort-0&#34;
  Modeline &#34;2560x1080_68.00&#34;  264.25  2560 2736 3008 3456  1080 1083 1093 1126 -hsync +vsync
EndSection

Section &#34;Screen&#34;
  Identifier &#34;Screen0&#34;
  Device &#34;Card0&#34;
  Monitor &#34;DisplayPort-0&#34;
  SubSection &#34;Display&#34;
    Modes &#34;2560x1080_68.00&#34;
  EndSubSection
EndSection

Section &#34;Device&#34;
  Identifier &#34;Card0&#34;
  Driver &#34;radeon&#34;
EndSection
</code></pre></div><p>Do remember to substitute <code>Modeline</code> and <code>Modes</code> as per your configuration. Note that my <code>Driver</code> has been set to &ldquo;radeon&rdquo;. To identify your display driver, use the following command:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">lshw -class display | grep <span style="color:#e6db74">&#34;driver&#34;</span>
</code></pre></div><h2 id="closing-words">Closing words</h2><p>I hope that this tutorial helped you in extending the lifespan of your old computer. If this had not succeeded for me, I would have purchased a new machine.</p><p>In case you were wondering how I make use of the ultrawide, here is a screenshot:</p><p><a href="/images/2019/02/cinnamon-ultrawide.png"><img src="/images/2019/02/cinnamon-ultrawide.png" alt="Cinnamon UltraWide"></a></p><p>Dragging the application window to the left most will dock the window to utilise the left half of the screen. Similarly, dragging to the right most will dock on the other half.</p><ul class="list-inline tags" style="margin-left:0"><li class="btn btn-primary"><a href="https://www.leowkahman.com/tags/linux">linux</a></li></ul></div></div><div class="row"><div id="disqus_thread"></div><script>!function(){if("localhost"!=window.location.hostname){var e=document.createElement("script");e.type="text/javascript",e.async=!0;e.src="https://leowkahman.disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}}()</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div><div class="col-sm-4 blog-sidebar"><div class="sidebar-module"><script>!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cse.google.com/cse.js?cx=partner-pub-8585963436723502:5716828028";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><gcse:search></gcse:search></div><div class="sidebar-module"><h4>Recent Posts</h4><ul class="list-unstyled posts-recent"><li><a href="https://www.leowkahman.com/2020/02/01/speedtest-openwrt-with-flow-offloading/">Speedtest OpenWRT with flow offloading</a></li><li><a href="https://www.leowkahman.com/2019/02/06/ultrawide-monitor-on-linux/">Ultrawide monitor on Linux</a></li><li><a href="https://www.leowkahman.com/2019/02/03/switched-from-ubuntu-to-linux-mint/">Switched from Ubuntu to Linux Mint</a></li><li><a href="https://www.leowkahman.com/2018/08/11/reduce-internet-lag-on-openwrt/">Reduce internet lag on OpenWRT</a></li><li><a href="https://www.leowkahman.com/2018/05/29/workaround-to-wifi-issues-on-openwrt-lede/">Workaround to Wi-Fi issues on OpenWRT LEDE</a></li></ul></div><div class="sidebar-module"><h4>Categories</h4><ul class="list-unstyled posts-recent"><li><a href="https://www.leowkahman.com/categories/software/">software</a></li><li><a href="https://www.leowkahman.com/categories/web/">web</a></li><li><a href="https://www.leowkahman.com/categories/network/">network</a></li><li><a href="https://www.leowkahman.com/categories/hardware/">hardware</a></li><li><a href="https://www.leowkahman.com/categories/programming/">programming</a></li></ul></div></div></div></div><footer class="blog-footer"><div class="container"><div class="row"><div class="col-sm-8 col-xs-6"><ul class="list-inline links"><li><a href="/privacy-policy/">Privacy Policy</a></li></ul></div><div class="col-sm-4 col-xs-6"><ul class="list-inline"><li><a target="_blank" href="/index.xml"><i class="fa fa-rss fa-lg"></i></a></li><li><a target="_blank" href="https://stackexchange.com/users/6729082/leow-kah-man"><i class="fa fa-stack-exchange fa-lg"></i></a></li><li><a target="_blank" href="https://github.com/kmleow"><i class="fa fa-github fa-lg"></i></a></li><li><a target="_blank" href="https://twitter.com/kmleow"><i class="fa fa-twitter fa-lg"></i></a></li><li><a target="_blank" href="https://www.linkedin.com/in/kmleow"><i class="fa fa-linkedin fa-lg"></i></a></li><li><a target="_blank" href="https://www.facebook.com/LeowKahMan"><i class="fa fa-facebook fa-lg"></i></a></li><li><a target="_blank" href="https://www.paypal.me/leowkahman/5usd"><i class="fa fa-paypal fa-lg"></i></a></li></ul></div></div></div><div class="container"><div class="col-sm-12 row"><p>Except as otherwise noted, the content of this page is licensed under the <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>,<br/>code samples are licensed under the <a href="https://tldrlegal.com/license/mit-license">MIT License</a>. Third-party product names and logos may be the trademarks of their respective owners.</p></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js" integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha256-Daf8GuI2eLKHJlOWLRR/zRy9Clqcj4TUSumbxYH9kGI=" crossorigin="anonymous"></script><script src="/js/custom.js?v=1.0.1"></script><script data-ad-client="ca-pub-8585963436723502" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-61838818-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-61838818-1")</script></body></html>